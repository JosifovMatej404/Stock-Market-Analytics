{% extends "stocks/base.html" %}
{% block title %}Welcome{% endblock %}

{% block content %}
<h1 style="text-align:center;">ðŸ“ˆ Welcome to Stock Market Analyzer</h1>

<div class="container" style="display: flex; justify-content: space-between; gap: 20px; margin-top: 30px;">
    <div class="left" style="flex: 1; background: white; padding: 20px; border-radius: 10px;">
        <h2>Select a Company</h2>
        <form method="post">
            {% csrf_token %}
            <select name="symbol" style="padding: 8px; width: 100%;">
                {% for stock in stocks %}
                    <option value="{{ stock.symbol }}">{{ stock.symbol }}</option>
                {% endfor %}
            </select>
            <br><br>
            <button type="submit" style="padding: 10px; width: 100%;">View Insights</button>
        </form>
    </div>

    <div class="right" style="flex: 1; background: white; padding: 20px; border-radius: 10px;">
        <h2>ðŸ”¼ Top Gainers</h2>
        <table style="width:100%; border-collapse:collapse;">
            <tr><th>Symbol</th><th>Change %</th></tr>
            {% for symbol, change in top_gainers %}
                <tr><td>{{ symbol }}</td><td style="color:green;">+{{ change|floatformat:2 }}%</td></tr>
            {% endfor %}
        </table>

        <h2 style="margin-top: 30px;">ðŸ”½ Top Losers</h2>
        <table style="width:100%; border-collapse:collapse;">
            <tr><th>Symbol</th><th>Change %</th></tr>
            {% for symbol, change in top_losers %}
                <tr><td>{{ symbol }}</td><td style="color:red;">{{ change|floatformat:2 }}%</td></tr>
            {% endfor %}
        </table>
    </div>
</div>
{% endblock %}
