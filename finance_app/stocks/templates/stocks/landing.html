{% extends "stocks/base.html" %}
{% block title %}Welcome{% endblock %}

{% block content %}
<h1 style="text-align:center;">📈 Welcome to Stock Market Analyzer</h1>


<div class="container" style="display: flex; gap: 30px; margin-top: 30px; align-items: flex-start;">


    <div style="flex: 0 0 30%; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);">
        <h2>🔼 Top Gainers</h2>
        <table style="width:100%; border-collapse:collapse;">
            <thead>
                <tr style="text-align: left; border-bottom: 1px solid #ccc;">
                    <th style="padding: 8px;">Symbol</th>
                    <th style="padding: 8px;">Change %</th>
                </tr>
            </thead>
            <tbody>
                {% for symbol, change in top_gainers %}
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 8px; font-weight: bold;">{{ symbol }}</td>
                    <td style="padding: 8px; color: green;">+{{ change|floatformat:2 }}%</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <h2 style="margin-top: 30px;">🔽 Top Losers</h2>
        <table style="width:100%; border-collapse:collapse;">
            <thead>
                <tr style="text-align: left; border-bottom: 1px solid #ccc;">
                    <th style="padding: 8px;">Symbol</th>
                    <th style="padding: 8px;">Change %</th>
                </tr>
            </thead>
            <tbody>
                {% for symbol, change in top_losers %}
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 8px; font-weight: bold;">{{ symbol }}</td>
                    <td style="padding: 8px; color: red;">{{ change|floatformat:2 }}%</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>


    <div style="flex: 1; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);">
        <h2 style="margin-bottom: 20px;">🔍 Select a Company</h2>
        <form method="post">
            {% csrf_token %}
            <select name="symbol" style="padding: 10px; width: 100%; font-size: 16px;">
                {% for stock in stocks %}
                    <option value="{{ stock.symbol }}">{{ stock.symbol }}</option>
                {% endfor %}
            </select>
            <br><br>
            <button type="submit" style="padding: 12px 20px; width: 100%; background-color: #2c3e50; color: white; font-weight: bold; border: none; border-radius: 6px;">
                🚀 View Insights
            </button>
        </form>
    </div>
</div>


<div id="about" style="margin-top: 60px; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); text-align: center;">
    <h2>📚 About This App</h2>
    <p>This is a student project built by Mihail Gjorgjievski and Matej Josifov for the Software and Architecture subject. This application is built using Django, Celery streaming and scheduling, Redis, PostgreSQL, and Plotly. It provides historical and real-time financial insights on S&P 500 companies. Built to demonstrate an end-to-end data pipeline,real-time streaming of data using redis as a broker, analysis, and visualization system for stock market analytics.</p>
</div>


<div id="contact" style="margin-top: 40px; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); text-align: center;">
    <h2>📬 Contact</h2>
    <p>Got feedback or ideas? Reach out at:</p>
    <p><a href="mailto:mihail.gjorgjievski.1@students.finki.ukim.mk" style="color: #2c3e50; font-weight: bold;">mihail.gjorgjievski.1@students.finki.ukim.mk</a></p>
    <p>GitHub: <a href="https://github.com/ximailmicho" target="_blank" style="color: #2c3e50;">github.com/ximailmicho</a></p>
    <p><a href="mailto:matej.josifov@students.finki.ukim.mk" style="color: #2c3e50; font-weight: bold;">matej.josifov@students.finki.ukim.mk</a></p>
    <p>GitHub: <a href="https://github.com/josifovmatej404" target="_blank" style="color: #2c3e50;">github.com/josifovmatej404</a></p>
</div>


<div style="text-align: center; margin-top: 60px; padding: 20px; font-size: 14px; color: #666;">
    © 2025 Stock Market Analyzer — Licensed under <a href="https://opensource.org/licenses/MIT" target="_blank">MIT License</a>
</div>
{% endblock %}
